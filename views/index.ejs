<!DOCTYPE html>
	<html>
		<head>
			<title>Dashboard - BYT</title>
			<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

			<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.10/angular.min.js"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.10/angular-ui-router.js"></script>

			<script src="/javascripts/angularApp.js"></script>
			<link rel="stylesheet" type="text/css" href="/css/styles.css">
		</head>
		<body ng-app="Dashboard">
			<div class="container">
				<div class="row" ng-controller="NavCtrl">
					<nav class="navbar navbar-default pull-right">
						<ul class="nav navbar-nav">
							<li ng-show="isLoggedIn()"><a>{{ currentUser() }}</a></li>
							<li ng-show="isLoggedIn()"><a href="" ng-click="logOut()">Log Out</a></li>
							<li ng-hide="isLoggedIn()"><a href="/#/login">Log In</a></li>
							<li ng-hide="isLoggedIn()"><a href="/#/register">Register</a></li>
						</ul>
					</nav>				
				</div>				
				<div class="row">
					<br>
					<br>
					<div class="col-md-6 col-md-offset-3">
						<ui-view></ui-view>
					</div>
				</div>
			</div>

			<!--Register-->
			<script type="text/ng-template" id="/register.html">
				<div class="page-header">
					<h1>Let's budget</h1>
				</div>
				<div ng-show="error" class="alert alert-danger row">
					<span>{{ error.message }}</span>
				</div>
				<form ng-submit="register()" style="margin-top:30px;">
					<h3>Register</h3>
					<div class="form-group">
						<input type="text" class="form-control" placeholder="Username" ng-model="user.username"></input>
					</div>
					<div class="form-group">
						<input type="password" class="form-control" placeholder="Password" ng-model="user.password"></input>
					</div>
					<button type="submit" class="btn btn-primary">Register</button>
				</form>
			</script>

			<!--Login-->
			<script type="text/ng-template" id="/login.html">
				<div class="page-header">
					<h1>Let's budget</h1>
				</div>
				<div ng-show="error" class="alert alert-danger row">
					<span>{{ error.message }}</span>
				</div>
				<form ng-submit="logIn()" style="margin-top:30px;">
					<h3>Log In</h3>
					<div class="form-group">
					  <input type="text" class="form-control" placeholder="Username" ng-model="user.username"></input>
					</div>
					<div class="form-group">
					  <input type="password" class="form-control" placeholder="Password" ng-model="user.password"></input>
					</div>
					<button type="submit" class="btn btn-primary">Log In</button>
				</form>
			</script>
					
			<!--Dashboard stuff -->
			<script type="text/ng-template" id="/dashboard.html">
				<div>					
					<ul class="nav nav-pills" ng-show='{{ isLoggedIn() }}'>
						<li role="presentation"><a href="/#/dashboard">Dashboard</a></li>
						<li role="presentation"><a href="/#/income">Income</a></li>
						<li role="presentation"><a href="/#/bills">Bills</a></li>
						<li role="presentation"><a href="/#/expenses">Expenses</a></li>
					</ul>	
				</div>	
				<div class="table-responsive">
					<table class="table">		
						<tbody>
							<tr>
								<td>Total income</td>
								<td class='table-data'>{{totalIncome}}</td>																
							</tr>
							<tr>
								<td>Total bills</td>
								<td class='table-data'>{{totalBills}}</td>
							</tr>
							<tr>
								<td>Total expenses</td>
								<td class='table-data'>{{totalSpent}}</td>
							</tr>	
							<tr>
								<td>Savings</td>
								<td class='table-data'>{{totalIncome - totalBills - totalSpent}}</td>
							</tr>	
						</tbody>
					</table>
					<br>
					<table class="table">	
						<tbody>
							<tr>
								<td>Spending limit</td>
								<td class='table-data'>{{spendingLimit}}</td>
							</tr>
							<tr>
								<td>Total spent</td>
								<td class='table-data'>{{totalSpent}}</td>
							</tr>
							<tr>
								<td>Leftover</td>
								<td class='table-data'>{{leftOver}}</td>
							</tr>
							<tr>
								<td>Up by</td>
								<td class='table-data'>{{upBy|number:0}}</td>
							</tr>
							<tr>
								<td>Daily budget</td>
								<td class='table-data'>{{dailyBudget|number:0}}</td>
							</tr>
							<tr>
								<td>Days left</td>
								<td class='table-data'>{{daysLeft|number:0}}</td>
							</tr>
							<tr>
								<td>Period</td>
								<td class='table-data'>{{periodStart|date:'MM/dd/yyyy'}}</td>
								<td class='table-data'>{{periodEnd|date:'MM/dd/yyyy'}}</td>
							</tr>
							<tr>
								<td>Today</td>
								<td class='table-data'>{{today|date:'MM/dd/yyyy'}}</td>
							</tr>
						</tbody>
					</table>								
				</div>
				<br>

				<!--Spending limit form -->
				<div ng-hide='true'>{{amount1}}</div>				
				<div class="form-group">
					<form name='form' ng-submit='spendingLimitForm()'>
						<span>Set spending limit</span>
						<input class="form-control" type='number' placeholder='1350' ng-model='amount1'>
						<button type="submit" class="btn btn-default">Submit</button>
					</form>
				</div>
			</script>

			<!--Income stuff -->
			<script type="text/ng-template" id="/income.html">
				<div>					
					<ul class="nav nav-pills" ng-show='{{ isLoggedIn() }}'>
						<li role="presentation"><a href="/#/dashboard">Dashboard</a></li>
						<li role="presentation"><a href="/#/income">Income</a></li>
						<li role="presentation"><a href="/#/bills">Bills</a></li>
						<li role="presentation"><a href="/#/expenses">Expenses</a></li>
					</ul>	
				</div>
				<div class="table-responsive">
					<table class="table">						
						<thead ng-repeat='item in allIncome'>
							<tr>
								<td>{{item.description}}</td>
								<td class='table-data'>{{item.amount}}</td>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Total income</td>
								<td class='table-data'>{{totalIncome}}</td>
							</tr>							
						</tbody>
					</table>					
				</div>
				<div class="table-responsive">
					<table class="table">						
						<tbody>
							<tr>
								<td>{{description}}</td>
								<td class='table-data'>{{income}}</td>
							</tr>							
						</tbody>
					</table>					
				</div>
				<form name='form' ng-submit="incomeForm()">
					<span>Description</span>
					<input class='form-control' type="text" placeholder="Job" ng-model="description">
					<span>Amount</span>
					<input class='form-control' type="number" placeholder="Amount" ng-model="income">					
					<button type="submit" class="btn btn-default">Submit</button>
				</form>
			</script>	

			<!--Bills stuff -->
			<script type="text/ng-template" id="/bills.html">
				<div>					
					<ul class="nav nav-pills" ng-show='{{ isLoggedIn() }}'>
						<li role="presentation"><a href="/#/dashboard">Dashboard</a></li>
						<li role="presentation"><a href="/#/income">Income</a></li>
						<li role="presentation"><a href="/#/bills">Bills</a></li>
						<li role="presentation"><a href="/#/expenses">Expenses</a></li>
					</ul>	
				</div>
				<div class="table-responsive">
					<table class="table">						
						<thead ng-repeat='bill in bills'>
							<tr>
								<td>{{bill.description}}</td>
								<td class='table-data'>{{bill.amount}}</td>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Total bills</td>
								<td class='table-data'>{{totalBills}}</td>
							</tr>							
						</tbody>
					</table>
				</div>
				<br>
				<br>					
				<div class="table-responsive">
					<table class="table">
						<tbody>
							<tr>
								<td>{{description}}</td>
								<td class='table-data'>{{amount}}</td>
							</tr>
						</tbody>
					</table>	
				</div>			
				<form name='form' ng-submit="billForm()">
					<span>Description</span>
					<input class='form-control' type="text" placeholder="Rent" ng-model="description">
					<span>Amount</span>
					<input class='form-control' type="number" placeholder="Amount" ng-model="amount">					
					<button type="submit" class="btn btn-default">Submit</button>
				</form>
			</script>	

			<!--Monthly expenses --> 
			<script type="text/ng-template" id="/expenses.html">
				<div>					
					<ul class="nav nav-pills" ng-show='{{ isLoggedIn() }}'>
						<li role="presentation"><a href="/#/dashboard">Dashboard</a></li>
						<li role="presentation"><a href="/#/income">Income</a></li>
						<li role="presentation"><a href="/#/bills">Bills</a></li>
						<li role="presentation"><a href="/#/expenses">Expenses</a></li>
					</ul>	
				</div>
				<div class="table-responsive">
					<table class="table">
						<thead ng-repeat='expense in monthlyExpenses'>
							<tr>
								<td>{{expense.description}}</td>
								<td class='table-data'>{{expense.amount}}</td>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Total expenses</td>
								<td class='table-data'>{{totalSpent}}</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="table-responsive">
					<table class='table'>
						<tbody>
							<tr>
								<td>{{description}}</td>
								<td class='table-data'>{{amount}}</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div>
					<form name='form' ng-submit='monthlyExpenseForm()'>
						<span>Description</span>
						<input class='form-control' type='text' placeholder='Starbucks' ng-model='description'>
						<span>Amount</span>
						<input class='form-control' type='number' placeholder='5.49' ng-model='amount'>
						<button type="submit" class="btn btn-default">Submit</button>
					</form>
				</div>
			</script>		
		</body>
	</html>