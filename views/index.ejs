<!DOCTYPE html>
	<html>
		<head>
			<meta name="viewport" content="width=device-width">
			<meta name="viewport" content="initial-scale=1.0">
			<title>Dashboard - BYT</title>
			<!--my css -->
			<link rel="stylesheet" href="/css/styles.css">	
			<!--angular -->
		    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.js"></script>
		    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.js"></script>
			<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.10/angular-messages.js"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.10/angular-ui-router.js"></script>
			<!-- Bootstrap and Jquery needed for accordion-->
			<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
			<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>	







			<!--my javascript -->
			<script src="/javascripts/angularApp.js"></script>
			<script src="/javascripts/controllers/AuthCtrl.js"></script>
			<script src="/javascripts/controllers/BillsCtrl.js"></script>
			<script src="/javascripts/controllers/DashboardCtrl.js"></script>
			<script src="/javascripts/controllers/IncomeCtrl.js"></script>
			<script src="/javascripts/controllers/MonthlyExpensesCtrl.js"></script>
			<script src="/javascripts/controllers/NavCtrl.js"></script>
			<script src="/javascripts/factories/authFactory.js"></script>
			<script src="/javascripts/factories/billsFactory.js"></script>
			<script src="/javascripts/factories/incomeFactory.js"></script>
			<script src="/javascripts/factories/monthlyExpensesFactory.js"></script>
			<script src="/javascripts/directives/directives.js"></script>				
		</head>
		<body ng-app="Dashboard">
			<section class="container">
				<section class="row" ng-controller="NavCtrl">
					<nav class="navbar navbar-default">
						<ul class="nav navbar-nav">
							<li ng-show="isLoggedIn()"><a>Wassup {{ currentUser() }}</a></li>
							<li ng-show="isLoggedIn()"><a href="" ng-click="logOut()">Log Out</a></li>
							<li ng-hide="isLoggedIn()"><a href="/#/login">Log In</a></li>
							<li ng-hide="isLoggedIn()"><a href="/#/register">Register</a></li>
						</ul>
					</nav>				
				</section>				
				<section class="row col-md-6 col-md-offset-3 main_content">					
					<ui-view></ui-view>
				</section>
			</section>
			<!--Home-->
			<script type="text/ng-template" id="/home.html">
				<section>
					<a href="https://youtu.be/EbCn4uEfbtM">
						<h4>How to use web app video</h4>
					</a>
				</section>
				<section class="page-header">					
					<h3>Build Your Tomorrow (BYT) is an app that allows you to track your income and expenses. By doing so, you'll become more aware of your financial picture and spending habits. You can then use that knowledge to make necessary changes or adjustments.</h3>
				</section>
			</script>
			<!--Register-->
			<script type="text/ng-template" id="/register.html">
				<section class="page-header">
					<h1>Let's budget</h1>
				</section>
				<section ng-show="error" class="alert alert-danger row">
					<span>{{ error.message }}</span>
				</section>
				<form ng-submit="register()" style="margin-top:30px;">
					<h3>Register</h3>
					<section class="form-group">
						<input type="text" class="form-control" placeholder="Username" ng-model="user.username" required>
					</section>
					<section class="form-group">
						<input type="password" class="form-control" placeholder="Password" ng-model="user.password" required>
					</section>
					<button type="submit" class="btn btn-primary">Register</button>
				</form>
			</script>
			<!--Login-->
			<script type="text/ng-template" id="/login.html">
				<section class="page-header">
					<h1>Let's budget</h1>
				</section>
				<section ng-show="error" class="alert alert-danger row">
					<span>{{ error.message }}</span>
				</section>
				<form ng-submit="logIn()" style="margin-top:30px;">
					<h3>Log In</h3>
					<section class="form-group">
					  <input type="text" class="form-control" placeholder="Username" ng-model="user.username" required>
					</section>
					<section class="form-group">
					  <input type="password" class="form-control" placeholder="Password" ng-model="user.password" required>
					</section>
					<button type="submit" class="btn btn-primary">Log In</button>
				</form>
			</script>
			<!--Dashboard stuff -->
			<script type="text/ng-template" id="/dashboard.html">
				<section class="row">					
					<a href="https://youtu.be/EbCn4uEfbtM">How to use web app video</a>				
					<section class="dashboard_nav">
						<ul ng-show='{{ isLoggedIn() }}'>
							<li role="presentation" class="dashboard_nav_first"><a href="/#/dashboard">Dashboard</a></li>
							<li role="presentation" class="dashboard_nav_second"><a href="/#/income">Income</a></li>
							<li role="presentation" class="dashboard_nav_third"><a href="/#/bills">Bills</a></li>
							<li role="presentation" class="dashboard_nav_fourth"><a href="/#/expenses">Expenses</a></li>
						</ul>	
					</section>
				</section>
				<section class="row animate-show" ng-show="byt_show_div">			
					<section class="table-responsive">
						<section class="dashboard_analysis">
							<table class="table">
								<tbody>
									<tr>										
										<td class="dashboard_text_analysis_1">{{quote}}</td>
									</tr>
								</tbody>
							</table>
						</section>						
					</section>
				</section>	
				<section class="row">
					<section class="table-responsive">
						<section class="dashboard_overview">
							<table class="table">
								<tbody>
									<tr>
										<td class="dashboard_overview_1">Income</td>
										<td class="dashboard_overview_2" style="color: {{totalIncomeColor}}">{{totalIncome | number:0}}</td>
									</tr>
									<tr>
										<td class="dashboard_overview_3">Bills 
											<span class="glyphicon glyphicon-thumbs-down" aria-hidden="true"></span>
										</td>										
										<td class="dashboard_overview_4" style="color: {{totalBillsColor}}">{{totalBills | number:0}}</td>
									</tr>
									<tr>
										<td class="dashboard_overview_3">Expenses</td>
										<td class="dashboard_overview_4" style="color: {{totalSpentColor}}">{{totalSpent | number:0}}</td>
									</tr>
									<tr>
										<td class="dashboard_overview_5">Savings</td>
										<td class="dashboard_overview_6" style="color: {{totalSavingsColor}}">{{totalIncome - totalBills - totalSpent|number:0}}</td>
									</tr>
								</tbody>
							</table>
						</section>
					</section>
				</section>	
				<section class="row animate-show" ng-show="byt_show_div">
					<section class="table-responsive">
						<section class="dashboard_analysis">
							<table class="table">
								<tbody>
									<tr>										
										<td class="dashboard_text_analysis_1">{{savingMoneyBaby}}</td>
									</tr>
								</tbody>
							</table>
						</section>						
					</section>
				</section>				
				<section class="row">
					<section class="table-responsive">
						<section class="dashboard_analysis">
							<table class="table">	
								<tbody>
									<tr>
										<td class="dashboard_analysis_1">Spending limit</td>
										<td class="dashboard_analysis_2">{{spendingLimit|number:0}}</td>
									</tr>	
									<tr>
										<td class="dashboard_analysis_1">Total spent</td>
										<td class="dashboard_analysis_2">{{totalSpent|number:0}}</td>
									</tr>
									<tr>
										<td class="dashboard_analysis_1">Leftover</td>
										<td class="dashboard_analysis_2">{{leftOver|number:0}}</td>
									</tr>
									<tr>
										<td class="dashboard_analysis_1">{{specialVarUpByWord}}</td>
										<td class="dashboard_analysis_2" style="color: {{specialVarUpBy}}">{{upBy | number:0}}</td>
									</tr>			
								</tbody>
							</table>
						</section>
					</section>								
				</section>	
				<section class="row animate-show" ng-show="byt_show_div">
					<section class="table-responsive">
						<section class="dashboard_analysis">
							<table class="table">
								<tbody>
									<tr>										
										<td class="dashboard_text_analysis_1">{{upByComment}}</td>
									</tr>
								</tbody>
							</table>
						</section>						
					</section>
				</section>
				<section class="row">
					<section class="table-responsive">
						<section class="dashboard_analysis">
							<table class="table">	
								<tbody>
									<tr>
										<td class="dashboard_analysis_1">Daily budget</td>
										<td class="dashboard_analysis_2">{{dailyBudget|number:0}}</td>
									</tr>	
									<tr>
										<td class="dashboard_analysis_1">Days left</td>
										<td class="dashboard_analysis_2">{{daysLeft|number:0}}</td>
									</tr>
									<tr>
										<td class="dashboard_analysis_1">Period</td>
										<td class="dashboard_analysis_2">{{periodStart| date:'MM/dd/yyyy'}} - {{periodEnd}}</td>
									</tr>	
								</tbody>
							</table>
						</section>
					</section>								
				</section>
				<section class="row animate-show" ng-show="byt_show_div"
					<section class="table-responsive">
						<section class="dashboard_analysis">
							<table class="table">
								<tbody>
									<tr>										
										<td class="dashboard_text_analysis_1">Try your best to spend less than your daily budget. Gain your freedom one dollar at a time</td>
									</tr>
								</tbody>
							</table>
						</section>						
					</section>
				</section>
				<!--Spending limit form -->
				<section> <!-- novalidate disables brower validation -->
					<form novalidate name='spendingLimitForm1' ng-submit='spendingLimitForm()'>
						<section class="form-group">
							<label>Set spending limit</label>
							<section ng-messages="spendingLimitForm1.spendingLimit.$error">
  								<section ng-message="required" class="validation_1">*Required</section>
							</section>
							<input class='form-control' type='number' placeholder='1390' name="spendingLimit" ng-model='amount1' required>
						</section>
						<section class="form-group">
							<button type="submit" ng-disabled="spendingLimitForm1.$invalid" class="btn btn-default btn-block btn-lg">Add Spending Limit</button>
						</section>									
					</form>
				</section>	
			</script>
			<!--Income stuff -->
			<script type="text/ng-template" id="/income.html">
				<section class="row">
					<a href="https://youtu.be/EbCn4uEfbtM">How to use web app video</a>
					<section class="dashboard_nav">
						<ul ng-show='{{ isLoggedIn() }}'>
							<li role="presentation" class="dashboard_nav_first"><a href="/#/dashboard">Dashboard</a></li>
							<li role="presentation" class="dashboard_nav_second"><a href="/#/income">Income</a></li>
							<li role="presentation" class="dashboard_nav_third"><a href="/#/bills">Bills</a></li>
							<li role="presentation" class="dashboard_nav_fourth"><a href="/#/expenses">Expenses</a></li>
						</ul>	
					</section>
				</section>
				<section class="row">
					<section class="expenses">
						<section class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
  							<section class="panel" ng-repeat="category in categories | orderBy: '-total'" ng-if="category.total > 0">
    							<section class="panel-heading" role="tab" id="headingOne">
      								<section class="panel-title" style="font-size:14px;">      									
        								<p data-toggle="collapse" data-parent="#accordion" data-target="#collapse{{$index}}" aria-expanded="true" aria-controls="collapse{{$index}}" style="text-decoration:none; margin:2px;">
        								{{category.category}} - {{category.total | number:0}}</p>
      								</section>
    							</section>    					
    						</section>    							
						</section>
				    </section>
				</section>
				<section> <!-- novalidate disables brower validation -->
					<form novalidate name='monthlyIncomeForm' ng-submit='incomeForm()'>
						<section class="form-group">
							<label>Category</label>
							<section ng-messages="monthlyIncomeForm.monthlyIncomeCategory.$error">
  								<section ng-message="required" class="validation_1">*Required</section>
							</section>

							<select class="form-control" ng-options="category.id as category.value for category in monthlyIncomeCategories" name="monthlyIncomeCategory" ng-model='category' required>
								<option value="" selected disabled>Please choose</option>								
							</select>								
						</section>
						<section class="form-group">
							<label>Amount</label>
							<section ng-messages="monthlyIncomeForm.monthlyIncomeAmount.$error"> <!-- monthlyIncomeForm.monthlyExpAmount.$error is an angular expression -->
  								<section ng-message="required" class="validation_1">*Required</section>
							</section>
							<!-- form-control is a bootstarp class. step attribute specifies the legal number intervals for an input field -->
							<input class='form-control' type='number' placeholder='1700' name="monthlyIncomeAmount" ng-model='amount' step="any" required>								
						</section>			
						<section class="form-group">
							<button type="submit" ng-disabled="monthlyIncomeForm.$invalid" class="btn btn-default btn-block btn-lg">Add Income</button>
						</section>									
					</form>
				</section>
			</script>	
			<!--Bills stuff -->
			<script type="text/ng-template" id="/bills.html">
				<section class="row">
					<a href="https://youtu.be/EbCn4uEfbtM">How to use web app video</a>
					<section class="dashboard_nav">
						<ul ng-show='{{ isLoggedIn() }}'>
							<li role="presentation" class="dashboard_nav_first"><a href="/#/dashboard">Dashboard</a></li>
							<li role="presentation" class="dashboard_nav_second"><a href="/#/income">Income</a></li>
							<li role="presentation" class="dashboard_nav_third"><a href="/#/bills">Bills</a></li>
							<li role="presentation" class="dashboard_nav_fourth"><a href="/#/expenses">Expenses</a></li>
						</ul>	
					</section>
				</section>
				<section class="row">
					<section class="expenses">
						<section class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
  							<section class="panel panel-info" ng-repeat="category in categories | orderBy: '-total'" ng-if="category.total > 0">
    							<section class="panel-heading" role="tab" id="headingOne">
      								<section class="panel-title" style="font-size:14px;">      									
        								<a role="button" data-toggle="collapse" data-target="#collapse{{$index}}" aria-expanded="true" aria-controls="collapse{{$index}}" style="text-decoration:none" ng-click="active=!active">
        								<i ng-class="{ 'glyphicon glyphicon-plus': !active, 'glyphicon glyphicon-minus': active}"></i>  {{category.category}} - {{category.total | number:0}}</a>
      								</section>
    							</section>
    							<section id="collapse{{$parent.$index}}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
    								<section ng-repeat="subcategory in category.subCategory | orderBy: '-total'" ng-if="subcategory.total > 0">
										<section class="panel-body" style="padding:13px">
											<section style="width:50%; float:left; text-align:center; display:inline">{{subcategory.name}}</section>
											<section style="width:50%; float:right; text-align:center; display:inline">{{subcategory.total | number:0}}</section>
										</section>
    								</section>
  								</section>
    						</section>    							
						</section>
				    </section>
				</section>
				<section> <!-- novalidate disables brower validation -->
					<form novalidate name='monthlyBillForm' ng-submit='billForm()'>
						<section class="form-group">
							<label>Category</label>
							<section ng-messages="monthlyBillForm.monthlyBillCategory.$error">
  								<section ng-message="required" class="validation_1">*Required</section>
							</section>

							<select class="form-control" ng-options="category.id as category.value for category in monthlyBillsCategories" name="monthlyBillCategory" ng-model='category' required>
								<option value="" selected disabled>Please choose</option>								
							</select>								
						</section>
						<section class="form-group">
							<label>Type</label>
							<section ng-messages="monthlyBillForm.monthlyBillType.$error">
  								<section ng-message="required" class="validation_1">*Required</section>
							</section>
							<select ng-disabled="monthlyBillForm.monthlyBillCategory.$invalid" class="form-control" ng-model="subCategory" name="monthlyBillType" ng-options="subCategory.value as subCategory.value for subCategory in monthlyBillsSubCategories[category]" required>
								<option value="">Please choose</option>					
							</select>	
						</section>
						<section class="form-group">
							<label>Amount</label>
							<section ng-messages="monthlyBillForm.monthlyBillAmount.$error"> <!-- monthlyExpForm.monthlyExpAmount.$error is an angular expression -->
  								<section ng-message="required" class="validation_1">*Required</section>
							</section>
							<!-- form-control is a bootstarp class. step attribute specifies the legal number intervals for an input field -->
							<input class='form-control' type='number' placeholder='1550' name="monthlyBillAmount" ng-model='amount' step="any" required>								
						</section>			
						<section class="form-group">
							<button type="submit" ng-disabled="monthlyBillForm.$invalid" class="btn btn-default btn-block btn-lg">Add Bill</button>
						</section>	
					</form>
				</section>	
			</script>	
			<!--Monthly expenses --> 
			<script type="text/ng-template" id="/expenses.html">
				<section class="row">
					<a href="https://youtu.be/EbCn4uEfbtM">How to use web app video</a>
					<section class="dashboard_nav">
						<ul ng-show='{{ isLoggedIn() }}'>
							<li role="presentation" class="dashboard_nav_first"><a href="/#/dashboard">Dashboard</a></li>
							<li role="presentation" class="dashboard_nav_second"><a href="/#/income">Income</a></li>
							<li role="presentation" class="dashboard_nav_third"><a href="/#/bills">Bills</a></li>
							<li role="presentation" class="dashboard_nav_fourth"><a href="/#/expenses">Expenses</a></li>
						</ul>	
					</section>
				</section>
				<section class="row">
					<section class="expenses">
						<section class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
  							<section class="panel panel-info" ng-repeat="category in categories | orderBy: '-total'" ng-if="category.total > 0">
    							<section class="panel-heading" role="tab" id="headingOne">
      								<section class="panel-title" style="font-size:14px;">      									
        								<a role="button" data-toggle="collapse" data-target="#collapse{{$index}}" aria-expanded="true" aria-controls="collapse{{$index}}" style="text-decoration:none" ng-click="active=!active">
        								<i ng-class="{ 'glyphicon glyphicon-plus': !active, 'glyphicon glyphicon-minus': active }"></i>  {{category.category}} - {{category.total | number:0}}</a>
      								</section>
    							</section>
    							<section id="collapse{{$parent.$index}}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
    								<section ng-repeat="subcategory in category.subCategory | orderBy: '-total'" ng-if="subcategory.total > 0">
										<section class="panel-body" style="padding:13px">
											<section style="width:50%; float:left; text-align:center; display:inline">{{subcategory.name}}</section>
											<section style="width:50%; float:right; text-align:center; display:inline">{{subcategory.total | number:0}}</section>
										</section>
    								</section>
  								</section>
    						</section>    							
						</section>
				    </section>
				</section>
				<section> <!-- novalidate disables brower validation -->
					<form novalidate name='monthlyExpForm' ng-submit='monthlyExpenseForm()'>						
						<section class="form-group">
							<label>Category</label>
							<section ng-messages="monthlyExpForm.monthlyExpCategory.$error">
  								<section ng-message="required" class="validation_1">*Required</section>
							</section>
							<select class="form-control" ng-options="category.id as category.value for category in monthlyExpensesCategories" name="monthlyExpCategory" ng-model='category' required>
								<option value="" selected disabled>Please choose</option>								
							</select>
						</section>
						<!-- this party of the form is where the user select the subcategory. In example, if clothing is the category selected above, then the user will then have the ability to slect what type of clothing here.-->
						<section class="form-group">
							<label>Type</label>
							<section ng-messages="monthlyExpForm.monthlyExpType.$error">
  								<section ng-message="required" class="validation_1">*Required</section>
							</section>
							<!-- ng-disabled seems to work by targeting the input field that needs to first be validated before this input field can become available -->
							<select ng-disabled="monthlyExpForm.monthlyExpCategory.$invalid" class="form-control" ng-model="subCategory" name="monthlyExpType" ng-options="subCategory.value as subCategory.value for subCategory in monthlyExpensesSubCategories[category]" required> <!-- Description in the model of the category input field --> <!--form-control is a Bootstrap class --> 
    							<option value="">Please choose</option>
    						</select>
						</section>
						<section class="form-group">
							<label>Amount</label>
							<section ng-messages="monthlyExpForm.monthlyExpAmount.$error"> <!-- monthlyExpForm.monthlyExpAmount.$error is an angular expression -->
  								<section ng-message="required" class="validation_1">*Required</section>
							</section>
							<!-- form-control is a bootstarp class. step attribute specifies the legal number intervals for an input field -->
							<input class='form-control' type='number' placeholder='5.49' name="monthlyExpAmount" ng-model='amount' step="any" required>
						</section>			
						<section class="form-group">
							<button type="submit" ng-disabled="monthlyExpForm.$invalid" class="btn btn-default btn-block btn-lg">Add Expense</button>
						</section>									
					</form>
				</section>				
			</script>	
		</body>
	</html>